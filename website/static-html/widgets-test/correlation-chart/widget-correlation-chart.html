<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Widget Correlation chart - FXStreet</title>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1">
        <link rel="stylesheet" href="../../../css/fxs_screen.min.css">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500,300italic,400italic,500italic,700,700italic' rel='stylesheet' type='text/css'>
        <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
        <!--[if lt IE 9]>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body class="cbp-spmenu-push">
        <a id="" class="fxs_skip" href="#fxs_content">Skip to main content</a>

        <!-- The wrapper -->
        <div class="fxs_wrapper fxs_content_wide">

            <div class="fxs_content" id="fxs_content">

                <!-- The content rail -->
                <div class="fxs_contentView">

                    <!-- Main Section -->
                    <header class="fxs_sectionTitle">                 
                        <h1 class="fxs_sectionTitle_header">EUR/USD correlation chart</h1>
                        <div class="fxs_shareContent_holder fxs_shareOptions_boxed">
                            <div class="fxs_overflowOptions">
                                <span class="fxs_btn_icon" title="Share options" data-toggle="dropdown"><i class="fa fa-share-alt"></i><span class="fxs_skip">Share options</span></span>
                                <ul class="fxs_btnGroup_dropdownList">
                                    <li class="fxs_socialMedia_item">
                                        <a href="/" class="fxs_btn_icon" title="Share on linkedIn"><i class="fa fa-linkedin"></i><span class="fxs_skip">Share on linkedIn</span></a>
                                    </li>
                                    <!--
                    -->
                                    <li class="fxs_socialMedia_item">
                                        <a href="/" class="fxs_btn_icon" title="Share on Google+"><i class="fa fa-google-plus"></i><span class="fxs_skip">Share on Google+</span></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </header>

                    <section class="fxs_detail" role="main">
                        <div class="fxs_widget_divider_module">
                            <div class="fxs_widget_price price_up">
                                <abbr class="fxs_asset_label " title="Euro - US Dollar">
                                    <a href="/">EUR/USD</a>
                                </abbr>
                                <div class="fxs_widget_price_value">
                                    <span class="fxs_price_bidask">1.27<strong class="fxs_price_big_figure">68</strong><sup>8</sup>/<strong class="fxs_price_big_figure">56</strong><sup>7</sup></span>
                                    <span class="fxs_price_change">
                                        <span class="fxs_change_pips">0.0026</span>
                                        <span class="fxs_change_percent">(-0.12%)</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    
                        
                        <!-- Widget correlation chart -->
                        <div class="fxs_widget_summary">
                          <div class="fxs_widget_correlation fxs_widget_default">
                            <div class="fxs_widget_divider_module">
                              <div id="c_chart"></div>
                            </div>
                            <!-- widget footer -->
                            <footer class="fxs_widget_footer">
                                <small><time datetime="2015-02-10T00:00">Updated FEB 10, 00:00 GMT</time></small>
                            </footer>
                            <!-- /widget footer -->
                          </div>
                        </div>
                        <!-- /Widget correlation chart -->

 
                    </section>
                </div>
                <!-- /The content rail -->

            </div>
            
        </div>
        <!-- /The wrapper -->
        
        <script src="../../../js/jquery-1.11.3.min.js"></script>

        <!-- Bootstrap -->
        <script src="../../../js/bootstrap.min.js"></script>

        <script src="../../../js/classie.js"></script>
        <script src="../../../js/jquery.typeahead.min.js"></script>
        <script src="../../../js/site.js"></script> 
        <!-- javascript widget mini -->
        <script src="../../../../widgets/core/js/c3.min.js"></script>
        <script src="../../../../widgets/core/js/d3.min.js"></script>
        
        <script>
            var colors = ['#F5C861', '#A3A3A8', '#A3A3A8', '#A3A3A8', '#A3A3A8', '#A3A3A8', '#A3A3A8', '#A3A3A8', '#A3A3A8', '#F5C861']; // *!!Metido harcoded a saco, preguntar cómo funciona (son diferentes sólo el min y max)

            // Importante!: añadir "chart.flush();" on window resize para que vuelva a pintar la gráfica (y ajuste las medidas)
            // Importante2!: ajustar la altura proporcional al número de categories (pares): si son 10 = 300, si son 5 = 150, si son 2 = 60 (la base de cada category es 30)
            // Importante3!: Si se configura para dejar menos categories (pares), eliminar del centro hacia afuera: los últimos en ser descartados deben ser los extremos (siempre números pares: 2, 4, 6, 8, 10, ...)

            var chart = c3.generate({
                bindto: '#c_chart',
                data: {
                  columns: [ ['data1', 0.99, 0.88, 0.6, 0.4, 0.2, -0.1, -0.22, -0.33, -0.55, -0.8] ],
                  type: 'bar',
                  names: { data1: 'Correlation' },
                  color: function (color, d) { return colors[d.index]; } // *!!Metido harcoded a saco, preguntar cómo funciona (son diferentes sólo el min y max)
                },
                bar: { width: 15 },
                legend: { hide: true },
                axis: {
                  rotated: true,
                  x: {
                    type: 'category',
                    categories: ['AUD/JPJ', 'USD/JPY', 'USD/CAD', 'AUD/USD', 'EUR/CAD', 'GBP/JPY', 'NZO/JPY', 'EUR/CAD', 'GBP/JPY', 'NZO/JPY']
                  },
                  y: {
                    padding: {top: 10, bottom: 10 },
                    max: 1,
                    min: -1,
                    center: 0,
                    tick: { values: [-1, -0.5, 0, 0.5, 1] }
                  }
                },
                grid: {
                  y: {
                    show: true,
                    lines: [ {value: 0} ]
                  }
                },
                padding: { bottom: 0 },
                size: { height: 300 } //Altura proporcional al número de items, hablar con maquetación
            });
        </script>    

    </body>
</html>